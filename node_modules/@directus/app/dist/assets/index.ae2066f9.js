import{T as pe,d as ve,w as Ie}from"./vue.runtime.esm-bundler.f6138180.js";import{u as Ce,a as _e,_ as E,b as se,c as K,d as ae,M as Le,t as Ve,e as De,f as Oe,g as Ne,h as ue,l as Ue,p as Be,i as Ee,j as te,k as Me,m as Ae,n as ce,o as de,q as je,r as Re,H as He}from"./index.f8fd6ee3.entry.js";import{l as oe}from"./use-sync.e83d9ab3.js";import{storeToRefs as ne}from"./pinia.0d44ec62.entry.js";import{useI18n as z}from"./vue-i18n.fbc77449.entry.js";import{useRouter as fe}from"./vue-router.3a828e63.entry.js";import{d as M,c as S,r as $,m as ie,w as Y,a as n,B as J,C as T,o as s,e as _,y as a,b as I,z as r,f as j,F as Z,v as A,H as me,q as B,t as D,u as V,A as x,n as Pe,O as W,M as ge,h as Te,j as qe,p as Fe,D as k,I as We,K as ze,L as Ge,E as Qe,G as Xe}from"./runtime-core.esm-bundler.22ec0346.js";const Ke=M({setup(){const{t:e}=z(),t=Ce(),c=_e(),d=S(()=>{var u;return c.settings===null||!((u=c.settings)!=null&&u.project_logo)?null:"/assets/"+c.settings.project_logo}),p=$(!1),{queueHasItems:l}=ie(t);Y(()=>l.value,u=>{u&&(p.value=!0)});const i=S(()=>{var u;return(u=c.settings)==null?void 0:u.project_url}),o=S(()=>{var u;return(u=c.settings)!=null&&u.project_url?e("view_project"):!1});return{customLogoPath:d,showLoader:p,stopSpinnerIfQueueIsEmpty:v,url:i,urlTooltip:o};function v(){l.value===!1&&(p.value=!1)}}});function Je(e,t,c,d,p,l){const i=n("v-progress-linear"),o=n("v-image"),v=J("tooltip");return T((s(),_(me(e.url?"a":"div"),{href:e.url,target:e.url?"_blank":void 0,rel:e.url?"noopener noreferrer":void 0,class:A(["module-bar-logo",{loading:e.showLoader}])},{default:a(()=>[e.customLogoPath?(s(),I(Z,{key:0},[r(pe,{name:"fade"},{default:a(()=>[e.showLoader?(s(),_(i,{key:0,indeterminate:"",rounded:"",onAnimationiteration:e.stopSpinnerIfQueueIsEmpty},null,8,["onAnimationiteration"])):j("",!0)]),_:1}),r(o,{class:"custom-logo",src:e.customLogoPath,alt:"Project Logo"},null,8,["src"])],64)):(s(),I("div",{key:1,class:A(["logo",{running:e.showLoader}]),onAnimationiteration:t[0]||(t[0]=(...u)=>e.stopSpinnerIfQueueIsEmpty&&e.stopSpinnerIfQueueIsEmpty(...u))},null,34))]),_:1},8,["href","target","rel","class"])),[[v,e.urlTooltip,void 0,{right:!0}]])}const Ye=E(Ke,[["render",Je],["__scopeId","data-v-96000481"]]),Ze=M({setup(){const{t:e}=z(),t=se(),c=K(),{notificationsDrawerOpen:d}=ne(t),{unread:p}=ne(c),l=ae(),i=$(!1),o=S(()=>{var b;return!l.currentUser||!("avatar"in l.currentUser)||!((b=l.currentUser)!=null&&b.avatar)?null:`/assets/${l.currentUser.avatar.id}?key=system-medium-cover`}),v=$(null),u=S(()=>{var m;return`/users/${(m=l.currentUser)==null?void 0:m.id}`}),y=S(()=>"/logout"),f=l.fullName;return{t:e,userFullName:f,avatarURL:o,userProfileLink:u,signOutActive:i,signOutLink:y,notificationsDrawerOpen:d,unread:p,avatarError:v}}});const xe={class:"module-bar-avatar"};function et(e,t,c,d,p,l){const i=n("v-icon"),o=n("v-button"),v=n("v-badge"),u=n("v-card-title"),y=n("v-card-actions"),f=n("v-card"),b=n("v-dialog"),m=n("v-image"),P=n("v-avatar"),U=n("router-link"),O=n("v-hover"),R=J("tooltip");return s(),I("div",xe,[r(v,{value:e.unread,disabled:e.unread==0,class:"notifications-badge"},{default:a(()=>[T((s(),_(o,{tile:"",icon:"","x-large":"",class:"notifications",onClick:t[0]||(t[0]=C=>e.notificationsDrawerOpen=!0)},{default:a(()=>[r(i,{name:"notifications"})]),_:1})),[[R,e.t("notifications"),void 0,{right:!0}]])]),_:1},8,["value","disabled"]),r(O,null,{default:a(({hover:C})=>[r(b,{modelValue:e.signOutActive,"onUpdate:modelValue":t[2]||(t[2]=N=>e.signOutActive=N),onEsc:t[3]||(t[3]=N=>e.signOutActive=!1)},{activator:a(({on:N})=>[r(pe,{name:"sign-out"},{default:a(()=>[C?T((s(),_(o,{key:0,tile:"",icon:"","x-large":"",class:"sign-out",onClick:N},{default:a(()=>[r(i,{name:"logout"})]),_:2},1032,["onClick"])),[[R,e.t("sign_out"),void 0,{right:!0}]]):j("",!0)]),_:2},1024)]),default:a(()=>[r(f,null,{default:a(()=>[r(u,null,{default:a(()=>[B(D(e.t("sign_out_confirm")),1)]),_:1}),r(y,null,{default:a(()=>[r(o,{secondary:"",onClick:t[1]||(t[1]=N=>e.signOutActive=!e.signOutActive)},{default:a(()=>[B(D(e.t("cancel")),1)]),_:1}),r(o,{to:e.signOutLink},{default:a(()=>[B(D(e.t("sign_out")),1)]),_:1},8,["to"])]),_:1})]),_:1})]),_:2},1032,["modelValue"]),r(U,{to:e.userProfileLink},{default:a(()=>[T((s(),_(P,{tile:"",large:"",class:A({"no-avatar":!e.avatarURL})},{default:a(()=>[e.avatarURL&&!e.avatarError?(s(),_(m,{key:0,src:e.avatarURL,alt:e.userFullName,class:"avatar-image",onError:t[4]||(t[4]=N=>e.avatarError=N)},null,8,["src","alt"])):(s(),_(i,{key:1,name:"account_circle"}))]),_:1},8,["class"])),[[R,e.userFullName,void 0,{right:!0}]])]),_:1},8,["to"])]),_:1})])}const tt=E(Ze,[["render",et],["__scopeId","data-v-fe7202f3"]]),ot=M({components:{ModuleBarLogo:Ye,ModuleBarAvatar:tt},setup(){const e=_e(),{modules:t}=De(),c=S(()=>t.value.map(p=>p.id));return{modules:S(()=>{var p;return e.settings?((p=e.settings.module_bar)!=null?p:Le).filter(l=>l.type==="link"?!0:l.enabled&&c.value.includes(l.id)).map(l=>{if(l.type==="link"){const o=oe.exports.omit(l,["url"]);return l.url.startsWith("/")?o.to=l.url:o.href=l.url,Ve(o)}const i=t.value.find(o=>o.id===l.id);return{...l,...t.value.find(o=>o.id===l.id),to:`/${i.id}`}}):[]})}}});const nt={class:"module-bar"},st={class:"modules"};function at(e,t,c,d,p,l){const i=n("module-bar-logo"),o=n("v-icon"),v=n("v-button"),u=n("module-bar-avatar"),y=J("tooltip");return s(),I("div",nt,[r(i),V("div",st,[(s(!0),I(Z,null,x(e.modules,f=>T((s(),_(v,{key:f.id,icon:"","x-large":"",to:f.to,href:f.href,tile:"",style:Pe(f.color?{"--v-button-color-active":f.color}:null)},{default:a(()=>[r(o,{name:f.icon},null,8,["name"])]),_:2},1032,["to","href","style"])),[[y,f.name,void 0,{right:!0}]])),128))]),r(u)])}const it=E(ot,[["render",at],["__scopeId","data-v-d5a6aca5"]]),rt=M({setup(){const{t:e}=z(),{parsedInfo:t}=Oe(),c=K(),d=ae(),p=S(()=>c.dialogs);return{t:e,notifications:p,admin:d.isAdmin,done:i,getGitHubIssueLink:l};function l(o,v){var y,f,b,m;const u=`<!-- Please put a detailed explanation of the problem here. -->

---

### Project details
Directus Version: ${(y=t.value)==null?void 0:y.directus.version}
Environment: production
OS: ${(f=t.value)==null?void 0:f.os.type} ${(b=t.value)==null?void 0:b.os.version}
Node: ${(m=t.value)==null?void 0:m.node.version}

### Error

Title: ${v.title||"none"}
Message: ${v.text||"none"}

<details>
<summary>Stack Trace</summary>
<pre>
${JSON.stringify(v.error,Object.getOwnPropertyNames(v.error),2)}
</pre>
</details>
			`;return`https://github.com/directus/directus/issues/new?body=${encodeURIComponent(u)}`}function i(o){c.remove(o)}}});const lt={class:"notification-dialogs"},ut=["href"];function ct(e,t,c,d,p,l){const i=n("v-card-title"),o=n("v-error"),v=n("v-card-text"),u=n("v-button"),y=n("v-card-actions"),f=n("v-card"),b=n("v-dialog");return s(),I("div",lt,[(s(!0),I(Z,null,x(e.notifications,m=>(s(),_(b,{key:m.id,"model-value":!0,persist:""},{default:a(()=>[r(f,{class:A([m.type])},{default:a(()=>[r(i,null,{default:a(()=>[B(D(m.title),1)]),_:2},1024),m.text||m.error?(s(),_(v,{key:0},{default:a(()=>[B(D(m.text)+" ",1),m.error?(s(),_(o,{key:0,error:m.error},null,8,["error"])):j("",!0)]),_:2},1024)):j("",!0),r(y,null,{default:a(()=>[m.type==="error"&&e.admin&&m.code==="UNKNOWN"?(s(),_(u,{key:0,secondary:""},{default:a(()=>[V("a",{target:"_blank",href:e.getGitHubIssueLink(m.id,m)},D(e.t("report_error")),9,ut)]),_:2},1024)):j("",!0),r(u,{onClick:P=>e.done(m.id)},{default:a(()=>[B(D(e.t("dismiss")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024))),128))])}const dt=E(rt,[["render",ct],["__scopeId","data-v-2919ceeb"]]),pt=M({props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=z(),c=se(),d=ae(),p=K(),l=Ne(),i=fe(),o=$([]),v=$(0),u=$(!1),y=$(null),f=$([]),b=$(["inbox"]),{notificationsDrawerOpen:m}=ne(c),P=$([{text:t("subject"),value:"subject",sortable:!1,width:300,align:"left"},{text:t("timestamp"),value:"timestampDistance",sortable:!1,width:180,align:"left"}]);return U(),Y([()=>e.modelValue,b],()=>U()),{tableHeaders:P,t,notificationsDrawerOpen:m,page:v,notifications:o,loading:u,error:y,selection:f,onRowClick:R,toggleArchive:O,tab:b};async function U(){u.value=!0;try{const C=await ue.get("/notifications",{params:{filter:{_and:[{recipient:{_eq:d.currentUser.id}},{status:{_eq:b.value[0]}}]},fields:["id","subject","collection","item","timestamp"],sort:["-timestamp"]}});await p.getUnreadCount();const N=C.data.data,q=[];for(const G of N)q.push({...G,timestampDistance:Ue(Be(G.timestamp),new Date,{addSuffix:!0})});o.value=q}catch(C){y.value=C}finally{u.value=!1}}async function O(){await ue.patch("/notifications",{keys:f.value.map(({id:C})=>C),data:{status:b.value[0]==="inbox"?"archived":"inbox"}}),await U(),f.value=[]}function R({item:C}){var q;const N=l.getCollection(C.collection);(q=N==null?void 0:N.meta)!=null&&q.singleton?i.push(`/content/${C.collection}`):i.push(`/content/${C.collection}/${C.item}`),m.value=!1}}});function vt(e,t,c,d,p,l){const i=n("v-icon"),o=n("v-button"),v=n("v-list-item-icon"),u=n("v-list-item-content"),y=n("v-tab"),f=n("v-tabs"),b=n("v-info"),m=n("v-table"),P=n("v-drawer"),U=J("tooltip");return s(),_(P,{modelValue:e.notificationsDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=O=>e.notificationsDrawerOpen=O),icon:"notifications",title:e.t("notifications"),onCancel:t[4]||(t[4]=O=>e.notificationsDrawerOpen=!1)},{actions:a(()=>[T((s(),_(o,{icon:"",rounded:"",disabled:e.selection.length===0,secondary:"",onClick:e.toggleArchive},{default:a(()=>[r(i,{name:e.tab[0]==="inbox"?"archive":"move_to_inbox"},null,8,["name"])]),_:1},8,["disabled","onClick"])),[[U,e.tab[0]==="inbox"?e.t("archive"):e.t("unarchive"),void 0,{bottom:!0}]])]),sidebar:a(()=>[r(f,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=O=>e.tab=O),vertical:""},{default:a(()=>[r(y,{value:"inbox"},{default:a(()=>[r(v,null,{default:a(()=>[r(i,{name:"inbox"})]),_:1}),r(u,null,{default:a(()=>[B(D(e.t("inbox")),1)]),_:1})]),_:1}),r(y,{value:"archived"},{default:a(()=>[r(v,null,{default:a(()=>[r(i,{name:"archive"})]),_:1}),r(u,null,{default:a(()=>[B(D(e.t("archive")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:a(()=>[!e.loading&&e.notifications.length===0?(s(),_(b,{key:0,icon:"notifications",title:e.t("no_notifications"),center:""},{default:a(()=>[B(D(e.t("no_notifications_copy")),1)]),_:1},8,["title"])):(s(),_(m,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=O=>e.selection=O),headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=O=>e.tableHeaders=O),"show-select":"",loading:e.loading,items:e.notifications,"item-key":"id","onClick:row":e.onRowClick},null,8,["modelValue","headers","loading","items","onClick:row"]))]),_:1},8,["modelValue","title"])}const _t=E(pt,[["render",vt],["__scopeId","data-v-ab4574fe"]]),ft=M({props:{id:{type:String,required:!0},title:{type:String,required:!0},text:{type:String,default:null},icon:{type:String,default:null},type:{type:String,default:"info",validator:e=>["info","success","warning","error"].includes(e)},tail:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},progress:{type:Number,default:void 0}},setup(e){const t=K();return{close:c};function c(){e.showClose===!0&&t.remove(e.id)}}});const mt={key:0,class:"icon"},gt={class:"content"},yt={class:"title selectable"},$t={key:0,class:"text selectable"};function bt(e,t,c,d,p,l){const i=n("v-progress-circular"),o=n("v-icon");return s(),I("div",{class:A(["notification-item",[e.type,{tail:e.tail,dense:e.dense}]]),onClick:t[0]||(t[0]=(...v)=>e.close&&e.close(...v))},[e.loading||e.progress||e.icon?(s(),I("div",mt,[e.loading?(s(),_(i,{key:0,indeterminate:"",small:""})):e.progress?(s(),_(i,{key:1,small:"",value:e.progress},null,8,["value"])):(s(),_(o,{key:2,name:e.icon},null,8,["name"]))])):j("",!0),V("div",gt,[V("p",yt,D(e.title),1),e.text?(s(),I("p",$t,D(e.text),1)):j("",!0)]),e.showClose?(s(),_(o,{key:1,name:"close",clickable:"",class:"close",onClick:e.close},null,8,["onClick"])):j("",!0)],2)}const ye=E(ft,[["render",bt],["__scopeId","data-v-747a928d"]]),ht=M({components:{NotificationItem:ye},props:{sidebarOpen:{type:Boolean,default:!1}},setup(){const e=K();return{queue:ie(e).queue}}});function wt(e,t,c,d,p,l){const i=n("notification-item");return s(),_(ve,{class:A(["notifications-group",{"sidebar-open":e.sidebarOpen}]),name:"slide-fade",tag:"div"},{default:a(()=>[W(e.$slots,"default",{},void 0,!0),(s(!0),I(Z,null,x(e.queue,(o,v)=>(s(),_(i,ge({key:o.id},o,{tail:v===e.queue.length-1,dense:e.sidebarOpen===!1,"show-close":o.persist===!0&&o.closeable!==!1}),null,16,["tail","dense","show-close"]))),128))]),_:3},8,["class"])}const kt=E(ht,[["render",wt],["__scopeId","data-v-96e092f9"]]),St=M({props:{to:{type:String,default:null},icon:{type:String,default:"box"},active:{type:Boolean,default:!1}},emits:["click"],setup(){const e=se(),{sidebarOpen:t}=ie(e);return{sidebarOpen:t}}});const It={class:"icon"},Ct={key:0,class:"title"};function Lt(e,t,c,d,p,l){const i=n("v-icon");return s(),_(me(e.to?"router-link":"button"),{class:A(["sidebar-button",{active:e.active}]),onClick:t[0]||(t[0]=o=>e.$emit("click",o))},{default:a(()=>[V("div",It,[r(i,{name:e.icon},null,8,["name"])]),e.sidebarOpen?(s(),I("div",Ct,[W(e.$slots,"default",{},void 0,!0)])):j("",!0)]),_:3},8,["class"])}const Vt=E(St,[["render",Lt],["__scopeId","data-v-a096d611"]]),Dt=M({components:{SidebarButton:Vt,NotificationItem:ye},props:{sidebarOpen:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(){const{t:e}=z(),t=K();return{t:e,lastFour:t.lastFour}}});const Ot={class:"notifications-preview"},Nt={key:0,class:"inline"},Ut={class:"padding-box"};function Bt(e,t,c,d,p,l){const i=n("router-link"),o=n("notification-item"),v=n("transition-expand"),u=n("sidebar-button"),y=J("tooltip");return s(),I("div",Ot,[r(v,{tag:"div"},{default:a(()=>[e.modelValue?(s(),I("div",Nt,[V("div",Ut,[r(i,{class:A(["link",{"has-items":e.lastFour.length>0}]),to:"/activity"},{default:a(()=>[B(D(e.t("show_all_activity")),1)]),_:1},8,["class"]),r(ve,{tag:"div",name:"notification",class:"transition"},{default:a(()=>[(s(!0),I(Z,null,x(e.lastFour,f=>(s(),_(o,ge({key:f.id},f),null,16))),128))]),_:1})])])):j("",!0)]),_:1}),T((s(),_(u,{active:e.modelValue,class:"toggle",icon:"pending_actions",onClick:t[0]||(t[0]=f=>e.$emit("update:modelValue",!e.modelValue))},{default:a(()=>[B(D(e.t("activity_log")),1)]),_:1},8,["active"])),[[y,e.t("activity_log"),void 0,{left:!0}]])])}const Et=E(Dt,[["render",Bt],["__scopeId","data-v-243bee4a"]]),Mt=M({setup(){const{t:e}=z(),t=Ee(),c=S(()=>{const o=oe.exports.sortBy(t.latency,["timestamp"]);return o[o.length-1]}),d=S(()=>{if(!t.latency||t.latency.length===0)return 0;const o=oe.exports.sortBy(t.latency,["timestamp"]),v=o.slice(Math.max(o.length-5,0));let u=0;for(const{latency:y}of v)u+=y;return Math.round(u/v.length)}),p=S(()=>d.value<=250?4:d.value>250&&d.value<=500?3:d.value>500&&d.value<=750?2:1),l=S(()=>{switch(p.value){case 4:return`${e("connection_excellent")}
(${te(d.value)} ${e("latency")})`;case 3:return`${e("connection_good")}
(${te(d.value)} ${e("latency")})`;case 2:return`${e("connection_fair")}
(${te(d.value)} ${e("latency")})`;case 1:return`${e("connection_poor")}
(${te(d.value)} ${e("latency")})`;default:return null}});return{icon:S(()=>{switch(p.value){case 4:return"signal_wifi_4_bar";case 3:return"signal_wifi_3_bar";case 2:return"signal_wifi_2_bar";case 1:return"signal_wifi_1_bar";default:return null}}),lastLatency:c,latencyTooltip:l}}});const At={class:"latency-indicator"};function jt(e,t,c,d,p,l){const i=n("v-progress-circular"),o=n("v-icon"),v=J("tooltip");return T((s(),I("div",At,[e.lastLatency?(s(),_(o,{key:1,name:e.icon},null,8,["name"])):(s(),_(i,{key:0,indeterminate:""}))])),[[v,e.latencyTooltip,void 0,{bottom:!0,end:!0}]])}const Rt=E(Mt,[["render",jt],["__scopeId","data-v-0c7988ea"]]),Ht=M({components:{LatencyIndicator:Rt},setup(){const e=Me(),t=S(()=>{var d,p;return(p=(d=e.info)==null?void 0:d.project)==null?void 0:p.project_name}),c=S(()=>{var d,p;return(p=(d=e.info)==null?void 0:d.project)==null?void 0:p.project_descriptor});return{name:t,descriptor:c}}});const Pt={class:"project-info"},Tt={class:"name-container"};function qt(e,t,c,d,p,l){const i=n("latency-indicator"),o=n("v-text-overflow");return s(),I("div",Pt,[r(i),V("div",Tt,[r(o,{placement:"right",class:"name",text:e.name},null,8,["text"]),e.descriptor?(s(),_(o,{key:0,placement:"right",class:"descriptor",text:e.descriptor},null,8,["text"])):j("",!0)])])}const Ft=E(Ht,[["render",qt],["__scopeId","data-v-83fb9d28"]]),Wt=M({props:{sidebarOpen:{type:Boolean,default:!1}},setup(e){const t=$([]),c=$(!1);return Y(()=>e.sidebarOpen,async d=>{d===!1?t.value=[]:(c.value=!0,await Te(),c.value=!1)}),{openDetail:t,mandatory:c}}});function zt(e,t,c,d,p,l){const i=n("v-item-group");return s(),_(i,{modelValue:e.openDetail,"onUpdate:modelValue":t[0]||(t[0]=o=>e.openDetail=o),class:"sidebar-detail-group",scope:"sidebar-detail",mandatory:e.mandatory},{default:a(()=>[W(e.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","mandatory"])}const Gt=E(Wt,[["render",zt],["__scopeId","data-v-8d500103"]]),Qt=e=>(Qe("data-v-8b4e1e32"),e=e(),Xe(),e),Xt={class:"module-nav-content"},Kt={class:"flex-container"},Jt=Qt(()=>V("div",{class:"spacer"},null,-1)),Yt=M({__name:"private-view",props:{title:{default:null},smallHeader:{type:Boolean,default:!1}},setup(e){const t=e,{t:c}=z(),d=fe(),p=$(),l=$(),{width:i}=Ae(),{width:o}=ce(p),{width:v}=ce(l),u=$(),{handleHover:y,onResizeHandlePointerDown:f,resetModuleNavWidth:b,onPointerMove:m,onPointerUp:P}=be();de(window,"pointermove",m),de(window,"pointerup",P);const{data:U}=je("module-nav-width");qe(()=>{!U.value||Number.isNaN(U.value)||(u.value.style.width=`${U.value}px`)});const{title:O}=ie(t),R=$(!1),C=ae(),N=se(),q=S(()=>{var w,g;return C.currentUser?((g=(w=C.currentUser)==null?void 0:w.role)==null?void 0:g.app_access)||!1:!0}),G=$(!1),{sidebarOpen:H,fullScreen:le}=ne(N),$e=S(()=>{var w;return((w=C.currentUser)==null?void 0:w.theme)||"auto"});Fe("main-element",p),d.afterEach(async(w,g)=>{var F;w.path!==g.path&&((F=p.value)==null||F.scrollTo({top:0}),le.value=!1)}),Re(O);function be(){const w=$(!1),g=$(!1),F=$(0),ee=$(0),L=$(null),h=$(0),Q=$(null);return Y(L,oe.exports.debounce(X=>{X===220?U.value=null:U.value=X},300)),Y([i,o,v],()=>{i.value>1260?h.value=i.value-(590+60+v.value):i.value>960?h.value=i.value-(590+60+60):h.value=i.value-(60+60),L.value&&L.value>h.value&&(L.value=Math.max(220,h.value),u.value.style.width=`${L.value}px`)},{immediate:!0}),{handleHover:w,onResizeHandlePointerDown:re,resetModuleNavWidth:we,onPointerMove:ke,onPointerUp:Se};function re(X){g.value=!0,F.value=X.pageX,ee.value=u.value.offsetWidth}function we(){L.value=220,u.value.style.width="220px"}function ke(X){!g.value||(Q.value=window.requestAnimationFrame(()=>{L.value=Math.max(220,ee.value+(X.pageX-F.value)),L.value>=h.value&&(L.value=h.value),L.value>220&&L.value<=230&&(L.value=220),u.value.style.width=`${L.value}px`}))}function Se(){g.value===!0&&(g.value=!1,Q.value&&window.cancelAnimationFrame(Q.value))}}function he(w){w.target&&w.target.classList.contains("close")===!1&&(H.value=!0)}return(w,g)=>{const F=n("v-button"),ee=n("v-info"),L=n("v-overlay");return k(q)===!1?(s(),_(ee,{key:0,center:"",title:k(c)("no_app_access"),type:"danger",icon:"block"},{append:a(()=>[r(F,{to:"/logout"},{default:a(()=>[B(D(k(c)("switch_user")),1)]),_:1})]),default:a(()=>[B(D(k(c)("no_app_access_copy"))+" ",1)]),_:1},8,["title"])):(s(),I("div",{key:1,class:A(["private-view",{theme:k($e),"full-screen":k(le)}])},[V("aside",{id:"navigation",role:"navigation","aria-label":"Module Navigation",class:A({"is-open":R.value})},[r(it),V("div",{ref_key:"moduleNavEl",ref:u,class:"module-nav alt-colors"},[r(Ft),V("div",Xt,[W(w.$slots,"navigation",{},void 0,!0)]),V("div",{class:A(["module-nav-resize-handle",{active:k(y)}]),onPointerenter:g[0]||(g[0]=h=>y.value=!0),onPointerleave:g[1]||(g[1]=h=>y.value=!1),onPointerdown:g[2]||(g[2]=Ie((...h)=>k(f)&&k(f)(...h),["self"])),onDblclick:g[3]||(g[3]=(...h)=>k(b)&&k(b)(...h))},null,34)],512)],2),V("div",{id:"main-content",ref_key:"contentEl",ref:p,class:"content"},[r(He,{small:e.smallHeader,"show-sidebar-toggle":"",title:k(O),"onToggle:sidebar":g[4]||(g[4]=h=>H.value=!k(H)),onPrimary:g[5]||(g[5]=h=>R.value=!R.value)},We({_:2},[x(w.$slots,(h,Q)=>({name:Q,fn:a(re=>[W(w.$slots,Q,ze(Ge(re)),void 0,!0)])}))]),1032,["small","title"]),V("main",null,[W(w.$slots,"default",{},void 0,!0)])],512),V("aside",{id:"sidebar",ref_key:"sidebarEl",ref:l,role:"contentinfo",class:A(["alt-colors",{"is-open":k(H)}]),"aria-label":"Module Sidebar",onClick:he},[V("div",Kt,[r(Gt,{"sidebar-open":k(H)},{default:a(()=>[W(w.$slots,"sidebar",{},void 0,!0)]),_:3},8,["sidebar-open"]),Jt,r(Et,{modelValue:G.value,"onUpdate:modelValue":g[6]||(g[6]=h=>G.value=h),"sidebar-open":k(H)},null,8,["modelValue","sidebar-open"])])],2),r(L,{class:"nav-overlay",active:R.value,onClick:g[7]||(g[7]=h=>R.value=!1)},null,8,["active"]),r(L,{class:"sidebar-overlay",active:k(H),onClick:g[8]||(g[8]=h=>H.value=!1)},null,8,["active"]),r(_t),G.value===!1?(s(),_(kt,{key:0,"sidebar-open":k(H)},null,8,["sidebar-open"])):j("",!0),r(dt)],2))}}});const ao=E(Yt,[["__scopeId","data-v-8b4e1e32"]]);export{ao as PrivateView,ao as default};
